<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Color Palette Viewer</title>

<style>
    body {
        font-family: "Segoe UI", Arial, sans-serif;
        background: #f4f6f8;
        padding: 30px;
    }

    h2 {
        margin-bottom: 15px;
    }

    h3 {
        margin-top: 0;
    }

    .card {
        background: #fff;
        padding: 25px;
        border-radius: 10px;
        box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }

    .container {
        display: grid;
        grid-template-columns: 1fr 1.2fr;
        gap: 30px;
        max-width: 1100px;
        margin-bottom: 30px;
    }

    label {
        font-weight: 600;
        margin-bottom: 6px;
        display: block;
    }

    input[type="text"] {
        width: 100%;
        padding: 10px;
        font-size: 15px;
        border: 1px solid #ccc;
        border-radius: 6px;
        margin-bottom: 10px;
    }

    .btn {
        padding: 10px 16px;
        font-size: 14px;
        cursor: pointer;
        border-radius: 6px;
        border: none;
        margin-top: 8px;
    }

    .btn-add {
        background: #eef2f7;
    }

    .btn-save {
        background: #2563eb;
        color: #fff;
        margin-left: 5px;
    }

    .palette-preview {
        display: flex;
        height: 120px;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #ddd;
        margin-bottom: 20px;
    }

    .color-box {
        flex: 1;
    }

    /* ===== SAMPLE UI ===== */
    .sample-ui {
        display: flex;
        height: 260px;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #ddd;
        font-size: 13px;
    }

    .sample-sidebar {
        width: 70px;
        padding: 10px;
        color: #fff;
        font-weight: bold;
    }

    .sample-main {
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    .sample-header {
        padding: 10px;
        color: #fff;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .sample-content {
        flex: 1;
        padding: 10px;
    }

    .sample-card {
        padding: 10px;
        border-radius: 6px;
    }

    .sample-btn {
        padding: 4px 8px;
        border: none;
        border-radius: 4px;
        color: #fff;
        font-size: 12px;
        cursor: pointer;
    }

    /* ===== SUGGESTIONS ===== */
    .suggestions {
        max-width: 1100px;
    }

    .suggestion-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
        gap: 15px;
    }

    .suggestion {
        cursor: pointer;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #ddd;
        background: #fff;
    }

    .suggestion-preview {
        display: flex;
        height: 60px;
    }

    .suggestion-name {
        padding: 10px;
        font-weight: 600;
        font-size: 14px;
        text-align: center;
        background: #fafafa;
    }
</style>
</head>

<body>

<h2>ðŸŽ¨ New Color Palette</h2>

<div class="container">

    <!-- LEFT PANEL -->
    <div class="card">
        <label>Palette Name</label>
        <input type="text" id="paletteName" placeholder="Palette name">

        <label>Choose Colors</label>
        <div id="colorList">
            <input type="text" class="color-input" value="#203040">
            <input type="text" class="color-input" value="#304050">
            <input type="text" class="color-input" value="#1070E0">
            <input type="text" class="color-input" value="#F0F0F0">
            <input type="text" class="color-input" value="#FFFFFF">
        </div>

        <button class="btn btn-add" onclick="addColor()">+ Add Color</button>
        <button class="btn btn-save" onclick="savePalette()">ðŸ’¾ Save JSON + Image</button>
    </div>

    <!-- RIGHT PANEL -->
    <div class="card">
        <label>Palette Preview</label>
        <div class="palette-preview" id="palettePreview"></div>

        <label style="margin-top:15px;">Sample Web Design</label>
        <div class="sample-ui" id="sampleUI">
            <div class="sample-sidebar">MENU</div>

            <div class="sample-main">
                <div class="sample-header">
                    Dashboard
                    <button class="sample-btn">Action</button>
                </div>

                <div class="sample-content">
                    <div class="sample-card">
                        <h4>Card Title</h4>
                        <p>This is a sample content card using your palette.</p>
                    </div>
                </div>
            </div>
        </div>
        <button class="btn btn-add" onclick="shuffleSampleUI()" style="margin-top:10px;">
    ðŸ”€ Shuffle UI Colors
</button>

    </div>

</div>

<!-- SUGGESTIONS -->
<div class="card suggestions">
    <h3>âœ¨ Palette Suggestions</h3>
    <div class="suggestion-grid" id="suggestions"></div>
</div>

<script>
const paletteSuggestions = [
    { name: "ERP Blue", colors: ["#203040","#304050","#1070E0","#F0F0F0","#FFFFFF"] },
    { name: "Sunset", colors: ["#ffbe0b","#fb5607","#ff006e","#8338ec","#3a86ff"] },
    { name: "Ocean", colors: ["#caf0f8","#90dbf4","#48cae4","#0096c7","#023e8a"] },
    { name: "Pastel", colors: ["#ffd6e0","#cdb4db","#bde0fe","#a2d2ff","#caffbf"] },
    { name: "Earth", colors: ["#606c38","#283618","#fefae0","#dda15e","#bc6c25"] }
];

function updatePalette() {
    const preview = document.getElementById('palettePreview');
    preview.innerHTML = '';

    const colors = [...document.querySelectorAll('.color-input')]
        .map(input => input.value);

    colors.forEach(color => {
        const box = document.createElement('div');
        box.className = 'color-box';
        box.style.backgroundColor = color;
        preview.appendChild(box);
    });

    if (colors.length < 5) return;

    const ui = document.getElementById('sampleUI');
    ui.querySelector('.sample-sidebar').style.background = colors[0];
    ui.querySelector('.sample-header').style.background = colors[1];
    ui.querySelector('.sample-btn').style.background = colors[2];
    ui.querySelector('.sample-content').style.background = colors[3];
    ui.querySelector('.sample-card').style.background = colors[4];
}

function addColor() {
    const input = document.createElement('input');
    input.type = 'text';
    input.className = 'color-input';
    input.value = '#ffffff';
    input.addEventListener('input', updatePalette);
    document.getElementById('colorList').appendChild(input);
    updatePalette();
}

function applySuggestion(palette) {
    document.getElementById('paletteName').value = palette.name;
    document.getElementById('colorList').innerHTML = '';

    palette.colors.forEach(color => {
        const input = document.createElement('input');
        input.type = 'text';
        input.className = 'color-input';
        input.value = color;
        input.addEventListener('input', updatePalette);
        document.getElementById('colorList').appendChild(input);
    });

    updatePalette();
}

function renderSuggestions() {
    const container = document.getElementById('suggestions');

    paletteSuggestions.forEach(p => {
        const card = document.createElement('div');
        card.className = 'suggestion';
        card.onclick = () => applySuggestion(p);

        const preview = document.createElement('div');
        preview.className = 'suggestion-preview';

        p.colors.forEach(c => {
            const box = document.createElement('div');
            box.style.flex = 1;
            box.style.background = c;
            preview.appendChild(box);
        });

        const name = document.createElement('div');
        name.className = 'suggestion-name';
        name.innerText = p.name;

        card.appendChild(preview);
        card.appendChild(name);
        container.appendChild(card);
    });
}

/* ===== SAVE JSON + IMAGE ===== */
function savePalette() {
    const name = document.getElementById('paletteName').value || 'my-palette';
    const colors = [...document.querySelectorAll('.color-input')].map(i => i.value);

    const jsonBlob = new Blob(
        [JSON.stringify({ name, colors }, null, 2)],
        { type: 'application/json' }
    );
    download(jsonBlob, `${name}.json`);
    saveImage(colors, name);
}

function saveImage(colors, name) {
    const canvas = document.createElement('canvas');
    canvas.width = 800;
    canvas.height = 200;
    const ctx = canvas.getContext('2d');
    const w = canvas.width / colors.length;

    colors.forEach((c, i) => {
        ctx.fillStyle = c;
        ctx.fillRect(i * w, 0, w, canvas.height);
    });

    canvas.toBlob(blob => download(blob, `${name}.png`));
}

function download(blob, filename) {
    const a = document.createElement('a');
    a.href = URL.createObjectURL(blob);
    a.download = filename.replace(/\s+/g,'_').toLowerCase();
    a.click();
    URL.revokeObjectURL(a.href);
}

function shuffleSampleUI() {
    const colors = [...document.querySelectorAll('.color-input')]
        .map(i => i.value);

    if (colors.length < 5) return;

    // Shuffle colors
    const shuffled = [...colors].sort(() => Math.random() - 0.5);

    const ui = document.getElementById('sampleUI');
    ui.querySelector('.sample-sidebar').style.background = shuffled[0];
    ui.querySelector('.sample-header').style.background = shuffled[1];
    ui.querySelector('.sample-btn').style.background = shuffled[2];
    ui.querySelector('.sample-content').style.background = shuffled[3];
    ui.querySelector('.sample-card').style.background = shuffled[4];
}


/* INIT */
document.querySelectorAll('.color-input')
    .forEach(i => i.addEventListener('input', updatePalette));

renderSuggestions();
updatePalette();
</script>

</body>
</html>
